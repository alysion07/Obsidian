---
Reference URL: https://webgl2fundamentals.org/webgl/lessons/ko/webgl-2d-matrices.html
---



```js title:'Transformation Function'
var m3 = {
  translation: function(tx, ty) {
    return [
      1, 0, 0,
      0, 1, 0,
      tx, ty, 1,
    ];
  },
 
  rotation: function(angleInRadians) {
    var c = Math.cos(angleInRadians);
    var s = Math.sin(angleInRadians);
    return [
      c,-s, 0,
      s, c, 0,
      0, 0, 1,
    ];
  },
 
  scaling: function(sx, sy) {
    return [
      sx, 0, 0,
      0, sy, 0,
      0, 0, 1,
    ];
  },
};
```

```js title:'Matrix Usecase'
    // Compute the matrices
    var translationMatrix = m3.translation(translation[0], translation[1]);
    var rotationMatrix = m3.rotation(rotationInRadians);
    var scaleMatrix = m3.scaling(scale[0], scale[1]);
 
    // Multiply the matrices.
    var matrix = m3.multiply(translationMatrix, rotationMatrix);
    matrix = m3.multiply(matrix, scaleMatrix);
 
    // Set the matrix.
    gl.uniformMatrix3fv(matrixLocation, false, matrix)
```


---


## Matrix 계산 순서

#### 1 단계: Init
![[Pasted image 20240715092557.png|center]]

- 흰색 영역: canvas
- 파란색 영역:canvas 외부 영역
- 녹색 영역: ClipSpace
 
#### 2 단계: Projection

```js
matrix = m3.projection(gl.canvas.clientWidth, gl.canvas.clientHeight);
```

![[ConvertToClipspace.gif|center]]

#### 3 단계: Translation

```js
matrix = m3.translate(matrix, tx, ty);
```
![[msedge_4BSkj8GrJy.gif|center]]

원점은 이제 tx, ty (150, 100)만큼 이동 되었으며, 공간이 이동했습니다.!

#### 4 단계: Rotation 

```js
matrix = m3.rotate(matrix, rotationInRadians);
```
![[msedge_mnsDyvgEVk 1.gif|center]]
공간이 tx, ty만큼 회전합니다.

#### 5 단계: Scale

```js
matrix = m3.scale(matrix, sx, sy);
```
![[msedge_kHjlHFutVI.gif|center]]

tx, ty가 중심이던 전에 회전된 공간은 x가 2배, y가 1.5배만큼 크기 변환

행렬과 좌표의 관계 

[[선형대수학]]
